<!DOCTYPE html>
<html lang="uk">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JavaScript - Практика | CodeCraft</title>

    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        overflow-x: hidden;
        background: linear-gradient(135deg, #0d0e24 0%, #4349ba 100%);
        min-height: 100vh;
        position: relative;
      }

      .stars {
        position: fixed;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 0;
      }

      .star {
        position: absolute;
        width: 2px;
        height: 2px;
        background: white;
        border-radius: 50%;
        animation: twinkle 3s infinite;
      }

      @keyframes twinkle {
        0%,
        100% {
          opacity: 0.3;
        }
        50% {
          opacity: 1;
        }
      }

      nav {
        display: grid;
        grid-template-columns: 1fr auto 25fr;
        align-items: center;
        padding: 15px 50px;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 100;
        background: rgba(13, 14, 36, 0.7);
        backdrop-filter: blur(10px);
      }

      .nav-left {
        display: flex;
        justify-content: flex-start;
      }

      .nav-right {
        display: flex;
        justify-content: flex-end;
      }

      .logo-nav {
        font-size: 45px;
        color: white;
        font-weight: 700;
        text-shadow: 0 0 20px rgba(0, 217, 255, 0.5);
        text-align: center;
      }

      .menu-btn {
        background: transparent;
        border: 2px solid #00d9ff;
        color: #00d9ff;
        padding: 10px 15px;
        border-radius: 8px;
        cursor: pointer;
        font-size: 20px;
        transition: all 0.3s;
        width: 50px;
        height: 45px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .menu-btn:hover {
        background: #00d9ff;
        color: #0d0e24;
        transform: translateY(-2px);
        box-shadow: 0 5px 20px rgba(0, 217, 255, 0.4);
      }

      .login-btn {
        background: transparent;
        border: 2px solid #00d9ff;
        color: #00d9ff;
        padding: 10px 30px;
        border-radius: 8px;
        cursor: pointer;
        font-size: 16px;
        display: flex;
        align-items: center;
        gap: 8px;
        transition: all 0.3s;
        height: 45px;
      }

      .login-btn:hover {
        background: #00d9ff;
        color: #0d0e24;
        transform: translateY(-2px);
        box-shadow: 0 5px 20px rgba(0, 217, 255, 0.4);
      }

      .side-menu {
        position: fixed;
        top: 0;
        left: -350px;
        width: 300px;
        height: 100vh;
        background: rgba(13, 14, 36, 0.95);
        backdrop-filter: blur(20px);
        padding: 80px 30px 30px 30px;
        transition: left 0.4s ease;
        z-index: 99;
        box-shadow: 5px 0 30px rgba(0, 0, 0, 0.5);
      }

      .side-menu.active {
        left: 0;
      }

      .menu-title {
        position: absolute;
        top: 20px;
        left: 30px;
        font-size: 28px;
        color: white;
        font-weight: 700;
        text-shadow: 0 0 20px rgba(0, 217, 255, 0.5);
      }

      .menu-items {
        list-style: none;
        display: flex;
        flex-direction: column;
        gap: 20px;
      }

      .menu-items li a {
        color: white;
        text-decoration: none;
        font-size: 18px;
        display: flex;
        align-items: center;
        gap: 15px;
        padding: 15px;
        border-radius: 8px;
        transition: all 0.3s;
      }

      .menu-items li a:hover {
        background: rgba(0, 217, 255, 0.1);
        color: #00d9ff;
        transform: translateX(5px);
      }

      .menu-item-with-submenu {
        position: relative;
      }

      .menu-toggle {
        justify-content: space-between;
        cursor: pointer;
      }

      .arrow-icon {
        transition: transform 0.3s ease;
        margin-left: auto;
      }

      .menu-item-with-submenu.active .arrow-icon {
        transform: rotate(180deg);
      }

      .submenu {
        list-style: none;
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.4s ease;
        padding-left: 20px;
      }

      .menu-item-with-submenu.active .submenu {
        max-height: 400px;
      }

      .submenu li {
        margin-top: 10px;
      }

      .submenu li a {
        font-size: 16px;
        padding: 12px 15px;
        display: flex;
        align-items: center;
        color: rgba(255, 255, 255, 0.8);
      }

      .submenu li a:hover {
        color: #00d9ff;
        background: rgba(0, 217, 255, 0.1);
        transform: translateX(5px);
      }

      .overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        opacity: 0;
        visibility: hidden;
        transition: all 0.4s;
        z-index: 98;
      }

      .overlay.active {
        opacity: 1;
        visibility: visible;
      }

      .content {
        margin-top: 100px;
        padding: 20px 50px;
        position: relative;
        z-index: 1;
      }

      .progress-container {
        max-width: 800px;
        margin: 0 auto 30px;
      }

      .progress-bar {
        height: 8px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 10px;
        overflow: hidden;
        margin-bottom: 10px;
      }

      .progress-fill {
        height: 100%;
        background: #00d9ff;
        transition: width 0.5s ease;
        border-radius: 10px;
      }

      .progress-text {
        text-align: center;
        color: rgba(255, 255, 255, 0.7);
        font-size: 14px;
      }

      .exercise-container {
        max-width: 800px;
        margin: 0 auto;
      }

      .question-box {
        background: rgba(13, 14, 36, 0.5);
        backdrop-filter: blur(10px);
        border-radius: 20px;
        padding: 30px;
        margin-bottom: 30px;
      }

      .question-text {
        font-size: 20px;
        color: white;
        text-align: center;
        margin-bottom: 30px;
      }

      .code-block {
        background: rgba(0, 0, 0, 0.4);
        border-radius: 12px;
        padding: 20px;
        font-family: "Courier New", monospace;
        margin-bottom: 20px;
      }

      .code-line {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 10px;
        flex-wrap: wrap;
      }

      .code-text {
        color: #c792ea;
        font-size: 16px;
      }

      .code-input {
        background: rgba(255, 255, 255, 0.1);
        border: 2px solid rgba(255, 255, 255, 0.3);
        color: #00d9ff;
        padding: 8px 15px;
        border-radius: 8px;
        font-family: "Courier New", monospace;
        font-size: 16px;
        min-width: 150px;
        outline: none;
        transition: all 0.3s;
      }

      .code-input:focus {
        border-color: #00d9ff;
        box-shadow: 0 0 10px rgba(0, 217, 255, 0.3);
      }

      .code-input.correct {
        border-color: #10b981;
        background: rgba(16, 185, 129, 0.1);
      }

      .code-input.wrong {
        border-color: #ef4444;
        background: rgba(239, 68, 68, 0.1);
      }

      .answer-box {
        background: rgba(0, 217, 255, 0.1);
        border: 1px solid #00d9ff;
        border-radius: 12px;
        padding: 15px;
        margin-top: 20px;
      }

      .answer-label {
        color: #00d9ff;
        font-weight: 600;
        margin-right: 10px;
      }

      .answer-text {
        color: #00d9ff;
        font-family: "Courier New", monospace;
      }

      .button-container {
        display: flex;
        gap: 15px;
        justify-content: center;
        margin-top: 30px;
      }

      .btn {
        padding: 15px 40px;
        border-radius: 12px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s;
        border: none;
        flex: 1;
        max-width: 250px;
      }

      .btn-prev {
        background: #10b981;
        color: rgb(255, 255, 255);
      }

      .btn-prev:hover:not(:disabled) {
        background: rgba(255, 255, 255, 0.2);
        transform: translateY(-2px);
      }

      .btn-prev:disabled {
        opacity: 0.4;
        cursor: not-allowed;
      }

      .btn-clear {
        background: rgba(255, 255, 255, 0.1);
        color: white;
      }

      .btn-clear:hover {
        background: rgba(255, 255, 255, 0.2);
        transform: translateY(-2px);
      }

      .btn-check {
        background: #00d9ff;
        color: #0d0e24;
      }

      .btn-check:hover {
        background: #00b8d4;
        transform: translateY(-2px);
        box-shadow: 0 5px 20px rgba(0, 217, 255, 0.4);
      }

      .btn-next {
        background: #10b981;
        color: white;
      }

      .btn-next:hover {
        background: #059669;
        transform: translateY(-2px);
        box-shadow: 0 5px 20px rgba(16, 185, 129, 0.4);
      }

      .results-container {
        max-width: 700px;
        margin: 0 auto;
        background: rgba(13, 14, 36, 0.5);
        backdrop-filter: blur(10px);
        border-radius: 20px;
        padding: 40px;
        text-align: center;
        display: none;
      }

      .results-container.active {
        display: block;
        animation: slideUp 0.5s ease;
      }

      @keyframes slideUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .results-title {
        font-size: 32px;
        color: white;
        margin-bottom: 30px;
      }

      .score-display {
        font-size: 80px;
        font-weight: 700;
        margin-bottom: 20px;
      }

      .score-display.excellent {
        color: #10b981;
      }

      .score-display.good {
        color: #3b82f6;
      }

      .score-display.average {
        color: #f59e0b;
      }

      .score-display.poor {
        color: #ef4444;
      }

      .result-message {
        font-size: 20px;
        color: rgba(255, 255, 255, 0.8);
        margin-bottom: 30px;
      }

      .stats-container {
        display: flex;
        justify-content: space-around;
        margin: 30px 0;
        gap: 20px;
      }

      .stat-box {
        background: rgba(0, 0, 0, 0.3);
        border-radius: 12px;
        padding: 20px;
        flex: 1;
      }

      .stat-label {
        font-size: 14px;
        color: rgba(255, 255, 255, 0.6);
        margin-bottom: 10px;
      }

      .stat-value {
        font-size: 32px;
        font-weight: 700;
        color: white;
      }

      .stat-box.correct .stat-value {
        color: #10b981;
      }

      .stat-box.incorrect .stat-value {
        color: #ef4444;
      }

      .results-buttons {
        display: flex;
        gap: 15px;
        justify-content: center;
        margin-top: 30px;
      }

      @media (max-width: 768px) {
        nav {
          padding: 15px 20px;
        }

        .logo-nav {
          font-size: 24px;
        }

        .content {
          padding: 20px;
        }

        .button-container,
        .results-buttons {
          flex-direction: column;
        }

        .btn {
          max-width: 100%;
        }

        .stats-container {
          flex-direction: column;
        }
      }
    </style>
  </head>
  <body>
    <div class="stars" id="stars"></div>
    <div class="overlay" id="overlay"></div>

    <div class="side-menu" id="sideMenu">
      <div class="menu-title">CodeCraft</div>
      <ul class="menu-items">
        <li>
          <a href="home.html">
            <svg
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
            </svg>
            Головна
          </a>
        </li>
        <li class="menu-item-with-submenu">
          <a href="#" class="menu-toggle">
            <svg
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <polyline points="16 18 22 12 16 6"></polyline>
              <polyline points="8 6 2 12 8 18"></polyline>
            </svg>
            Курси
            <svg
              class="arrow-icon"
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <polyline points="6 9 12 15 18 9"></polyline>
            </svg>
          </a>
          <ul class="submenu">
            <li><a href="Pythonhome.html">Python</a></li>
            <li><a href="C++home.html">C++</a></li>
            <li><a href="CSharphome.html">C#</a></li>
            <li><a href="JavaScripthome.html">JavaScript</a></li>
            <li><a href="HTMLhome.html">HTML</a></li>
            <li><a href="CSShome.html">CSS</a></li>
          </ul>
        </li>
      </ul>
    </div>

    <nav>
      <div class="nav-left">
        <button class="menu-btn" id="menuBtn">☰</button>
      </div>
      <div class="logo-nav">CodeCraft</div>
      <div class="nav-right">
        <button class="login-btn" id="loginBtn">
          <svg
            width="18"
            height="18"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
          Вхід
        </button>
      </div>
    </nav>

    <div class="content">
      <div class="progress-container" id="progressContainer">
        <div class="progress-bar">
          <div class="progress-fill" id="progressFill"></div>
        </div>
        <p class="progress-text" id="progressText">Завдання 1 з 10</p>
      </div>

      <div class="exercise-container" id="exerciseContainer">
        <div class="question-box">
          <p class="question-text" id="questionText"></p>

          <div class="code-block" id="codeBlock"></div>

          <div id="answerBox" style="display: none" class="answer-box">
            <span class="answer-label">Правильна відповідь:</span>
            <span class="answer-text" id="answerText"></span>
          </div>
        </div>

        <div class="button-container">
          <button class="btn btn-prev" id="btnPrev" disabled>« Назад</button>
          <button class="btn btn-clear" id="btnClear">Очистити</button>
          <button class="btn btn-check" id="btnCheck">
            Показати відповідь
          </button>
          <button class="btn btn-next" id="btnNext">Далі »</button>
        </div>
      </div>

      <div class="results-container" id="resultsContainer">
        <h1 class="results-title">Завдання завершено!</h1>
        <div class="score-display" id="scoreDisplay">0%</div>
        <p class="result-message" id="resultMessage"></p>

        <div class="stats-container">
          <div
            id="reviewContainer"
            style="margin-top: 30px; text-align: left"
          ></div>

          <div class="stat-box correct">
            <div class="stat-label">Правильних відповідей</div>
            <div class="stat-value" id="correctCount">0</div>
          </div>
          <div class="stat-box incorrect">
            <div class="stat-label">Неправильних відповідей</div>
            <div class="stat-value" id="incorrectCount">0</div>
          </div>
        </div>

        <div class="results-buttons">
          <button class="btn btn-next" onclick="retryTest()">
            Пройти знову
          </button>
          <button class="btn btn-check" onclick="backToStart()">
            На головну
          </button>
        </div>
      </div>
    </div>

    <script>
      const starsContainer = document.getElementById("stars");
      for (let i = 0; i < 100; i++) {
        const star = document.createElement("div");
        star.className = "star";
        star.style.left = Math.random() * 100 + "%";
        star.style.top = Math.random() * 100 + "%";
        star.style.animationDelay = Math.random() * 3 + "s";
        starsContainer.appendChild(star);
      }

      const menuBtn = document.getElementById("menuBtn");
      const sideMenu = document.getElementById("sideMenu");
      const overlay = document.getElementById("overlay");

      menuBtn.addEventListener("click", () => {
        sideMenu.classList.toggle("active");
        overlay.classList.toggle("active");
      });

      overlay.addEventListener("click", () => {
        sideMenu.classList.remove("active");
        overlay.classList.remove("active");
      });

      // Функціонал для розкриття підменю "Курси"
      const menuToggle = document.querySelector(".menu-toggle");
      const menuItemWithSubmenu = document.querySelector(
        ".menu-item-with-submenu"
      );

      menuToggle.addEventListener("click", (e) => {
        e.preventDefault();
        menuItemWithSubmenu.classList.toggle("active");
      });

      // Кнопка входу - перехід на login.html
      const loginBtn = document.getElementById("loginBtn");
      loginBtn.addEventListener("click", () => {
        window.location.href = "login.html";
      });

      const questions = [
        // 9.1 Модуль
        {
          question: "Вставте ключове слово для імпорту модуля.",
          codeLines: [{ type: "input", before: "", after: " my_module" }],
          correctAnswer: "import",
        },

        // 9.1 Виклик функції модуля
        {
          question:
            "Вставте ім’я функції з модуля my_module, яка виводить привітання.",
          codeLines: [
            { type: "text", text: "import my_module" },
            { type: "input", before: "print(my_module.", after: '("Alice"))' },
          ],
          correctAnswer: "greet",
        },

        // 9.2 Імпорт окремих елементів
        {
          question: "Вставте назву функції для імпорту з модуля.",
          codeLines: [
            { type: "input", before: "from my_module import ", after: ", add" },
          ],
          correctAnswer: "greet",
        },

        // 9.3 Стандартна бібліотека
        {
          question: "Вставте назву модуля для отримання поточної директорії.",
          codeLines: [
            { type: "input", before: "import ", after: "" },
            { type: "text", text: "print(os.getcwd())" },
          ],
          correctAnswer: "os",
        },

        // 9.4 Пакети
        {
          question: "Вставте назву модуля з пакета для імпорту функції func1.",
          codeLines: [
            {
              type: "input",
              before: "from my_package.",
              after: " import func1",
            },
            { type: "text", text: "func1()" },
          ],
          correctAnswer: "module1",
        },

        // 9.5 Встановлення бібліотеки
        {
          question: "Вставте назву бібліотеки для HTTP-запитів.",
          codeLines: [
            { type: "input", before: "import ", after: "" },
            {
              type: "text",
              text: "response = requests.get('https://api.github.com')",
            },
          ],
          correctAnswer: "requests",
        },

        // 9.6 NumPy масив
        {
          question: "Вставте скорочену назву імпорту бібліотеки NumPy.",
          codeLines: [
            { type: "input", before: "import numpy as ", after: "" },
            { type: "text", text: "arr = np.array([1,2,3,4])" },
          ],
          correctAnswer: "np",
        },

        // 9.7 Pandas DataFrame
        {
          question: "Вставте скорочену назву імпорту бібліотеки Pandas.",
          codeLines: [
            { type: "input", before: "import pandas as ", after: "" },
            {
              type: "text",
              text: "df = pd.DataFrame({'Name':['Alice','Bob']})",
            },
          ],
          correctAnswer: "pd",
        },

        // 9.8 Matplotlib
        {
          question:
            "Вставте назву підмодуля для побудови графіків у Matplotlib.",
          codeLines: [
            {
              type: "input",
              before: "import matplotlib.pyplot as ",
              after: "",
            },
            { type: "text", text: "plt.plot([1,2,3],[4,5,6])" },
          ],
          correctAnswer: "plt",
        },

        // 9.9 Requests перевірка статусу
        {
          question:
            "Вставте атрибут відповіді HTTP-запиту для перевірки коду статусу.",
          codeLines: [
            { type: "text", text: "import requests" },
            {
              type: "text",
              text: "response = requests.get('https://api.github.com')",
            },
            { type: "input", before: "if response.", after: " == 200:" },
          ],
          correctAnswer: "status_code",
        },

        // 9.10 Власний пакет
        {
          question:
            "Вставте назву функції для виклику привітання з пакета my_package.",
          codeLines: [
            { type: "text", text: "from my_package.greetings import hello" },
            { type: "input", before: "print(", after: '("Alice"))' },
          ],
          correctAnswer: "hello",
        },
      ];

      let currentQuestion = 0;
      let userAnswers = {};

      const btnPrev = document.getElementById("btnPrev");
      btnPrev.addEventListener("click", () => {
        if (currentQuestion > 0) {
          currentQuestion--;
          loadQuestion();
        }
      });

      function loadQuestion() {
        const q = questions[currentQuestion];
        document.getElementById("questionText").textContent = q.question;

        const codeBlock = document.getElementById("codeBlock");
        let html = "";

        q.codeLines.forEach((line, index) => {
          if (line.type === "input") {
            html += `
          <div class="code-line">
              ${
                line.before
                  ? `<span class="code-text">${line.before}</span>`
                  : ""
              }
              <input type="text" class="code-input" id="input_${index}" placeholder="______">
              ${
                line.after ? `<span class="code-text">${line.after}</span>` : ""
              }
          </div>`;
          } else {
            html += `
          <div class="code-line">
              <span class="code-text">${line.text}</span>
          </div>`;
          }
        });

        codeBlock.innerHTML = html;

        // повернути попередні відповіді (якщо були)
        const inputs = document.querySelectorAll(".code-input");
        if (userAnswers[currentQuestion]) {
          inputs.forEach((input, index) => {
            if (userAnswers[currentQuestion][index]) {
              input.value = userAnswers[currentQuestion][index];
            }
          });
        }

        document.getElementById("answerBox").style.display = "none";

        // прогрес
        const progress = ((currentQuestion + 1) / questions.length) * 100;
        document.getElementById("progressFill").style.width = progress + "%";
        document.getElementById("progressText").textContent = `Завдання ${
          currentQuestion + 1
        } з ${questions.length}`;

        btnPrev.disabled = currentQuestion === 0;
      }

      // Очистити
      document.getElementById("btnClear").addEventListener("click", () => {
        const inputs = document.querySelectorAll(".code-input");
        inputs.forEach((input) => {
          input.value = "";
          input.classList.remove("correct", "wrong");
        });

        delete userAnswers[currentQuestion];
        document.getElementById("answerBox").style.display = "none";
      });

      // Показати відповідь
      document.getElementById("btnCheck").addEventListener("click", () => {
        document.getElementById("answerText").textContent =
          questions[currentQuestion].correctAnswer;
        document.getElementById("answerBox").style.display = "block";
      });

      // Далі
      document.getElementById("btnNext").addEventListener("click", () => {
        const inputs = document.querySelectorAll(".code-input");

        // якщо інпутів немає — все одно переходимо далі
        if (inputs.length > 0) {
          const answers = [];
          inputs.forEach((input) => answers.push(input.value.trim()));
          userAnswers[currentQuestion] = answers;
        }

        if (currentQuestion < questions.length - 1) {
          currentQuestion++;
          loadQuestion();
        } else {
          showResults();
        }
      });

      function showResults() {
        let correct = 0;

        questions.forEach((q, index) => {
          const userAnswer = userAnswers[index]?.[0] || ""; // беремо перший інпут
          if (userAnswer.toLowerCase() === q.correctAnswer.toLowerCase())
            correct++;
        });

        const total = questions.length;
        const incorrect = total - correct;
        const percentage = Math.round((correct / total) * 100);

        document.getElementById("progressContainer").style.display = "none";
        document.getElementById("exerciseContainer").style.display = "none";

        const resultsContainer = document.getElementById("resultsContainer");
        resultsContainer.classList.add("active");

        const scoreDisplay = document.getElementById("scoreDisplay");
        scoreDisplay.textContent = percentage + "%";

        if (percentage >= 90)
          scoreDisplay.className = "score-display excellent";
        else if (percentage >= 70)
          scoreDisplay.className = "score-display good";
        else if (percentage >= 50)
          scoreDisplay.className = "score-display average";
        else scoreDisplay.className = "score-display poor";

        document.getElementById("correctCount").textContent = correct;
        document.getElementById("incorrectCount").textContent = incorrect;

        let message = "";
        if (percentage >= 90)
          message = " Відмінно! Ви чудово знаєте JavaScript!";
        else if (percentage >= 70)
          message = " Добре! Є невеликі прогалини, але загалом непогано!";
        else if (percentage >= 50)
          message = " Задовільно. Варто повторити матеріал.";
        else message = " Потрібно краще вивчити тему.";

        document.getElementById("resultMessage").textContent = message;
      }

      function retryTest() {
        currentQuestion = 0;
        userAnswers = {};

        document.getElementById("resultsContainer").classList.remove("active");
        document.getElementById("progressContainer").style.display = "block";
        document.getElementById("exerciseContainer").style.display = "block";

        loadQuestion();
      }

      function backToStart() {
        window.location.href = "All-Practice-Python.html";
      }

      loadQuestion();
    </script>
  </body>
</html>
